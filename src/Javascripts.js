const projects = [
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    { title: "Image Converter", desc: "Any image convert into webp", img: "image.webp", source: "https://imageconverterrd.vercel.app/" },
    ];

function createProjectCard({ title, desc, img, source }) {
    const card = document.createElement("div");
    card.classList.add("gallery-card");
    card.innerHTML = `
        <img data-src="${img}" class="lazy-load" alt="${title}">
        <h3>${title}</h3>
        <p>${desc}</p>
        <a href="${source}" class="view-code">Live View</a>
    `;
    return card;
}

function displayProjects(filterText = "") {
    const container = document.getElementById("galleryContainer");
    const counterElement = document.getElementById("downloadCounter");

    if (!container) return;

    container.innerHTML = "";
    const filteredProjects = projects.filter(({ title }) =>
        title.toLowerCase().includes(filterText.toLowerCase())
    );

    if (filteredProjects.length === 0) {
        container.innerHTML = `<p class="no-results">No matching projects found (Comming Soon).</p>`;
        if (counterElement) counterElement.style.display = "none"; // Hide counter
        return;
    }

    if (counterElement) counterElement.style.display = "block"; // Show counter

    const fragment = document.createDocumentFragment();
    filteredProjects.forEach(project => fragment.appendChild(createProjectCard(project)));
    container.appendChild(fragment);

    lazyLoadImages(); // Initialize lazy loading after adding new elements
}

// 🔹 Lazy Load Images using Intersection Observer
function lazyLoadImages() {
    const images = document.querySelectorAll(".lazy-load");
    const observer = new IntersectionObserver(
        (entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    const img = entry.target;
                    img.src = img.getAttribute("data-src");
                    img.removeAttribute("data-src");
                    img.classList.remove("lazy-load");
                    observer.unobserve(img);
                }
            });
        },
        { rootMargin: "50px" } // Loads images slightly before they enter view
    );

    images.forEach(img => observer.observe(img));
}

document.addEventListener("DOMContentLoaded", () => {
    displayProjects();

    const searchInput = document.getElementById("searchInput");
    if (searchInput) {
        searchInput.addEventListener("input", (e) => {
            displayProjects(e.target.value);
        });
    }
});

// 🔹 Download counter logic
let downloadCount = localStorage.getItem("downloadCount") ? parseInt(localStorage.getItem("downloadCount")) : 999;

function updateDownloadCount() {
    const counterElement = document.getElementById("downloadCounter");
    if (counterElement) {
        counterElement.innerHTML = `Access Source Code Used by {${downloadCount}+} Developers.`;
    }
}

function startAutoIncrement() {
    setInterval(() => {
        downloadCount++;
        localStorage.setItem("downloadCount", downloadCount);
        updateDownloadCount();
    }, 5000);
}

window.onload = function () {
    updateDownloadCount();
    startAutoIncrement();
};
